; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		old.asm
;		Purpose:	Un-New program
;		Created:	9th February 2024
;		Reviewed:   No
;		Author:		Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

; ************************************************************************************************
;
;										OLD Command
;
; ************************************************************************************************

		.section code

Command_Old:	;; [old]
		clc 								; start of code.
		lda 	#Program >> 8
		adc 	Program
		sta 	codePtr+1
		stz 	codePtr
		ldy 	#3
_COLoop:
		lda 	(codePtr),y 				; end of line
		cmp 	#KWD_SYS_END
		beq 	_COEndLine
		jsr 	SkipOneInstruction
		bra 	_COLoop
_COEndLine:
		iny 								; start of next line
		tya
		sta 	(codePtr) 					; store as first byte
		jmp 	WarmStart 					; and warm start				

		.send code
						
; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************

